<div class="">
    <h2>
        Add Task
    </h2>
    <form (ngSubmit)="addTaskSubmit(addTaskForm); addTaskForm.reset()" #addTaskForm="ngForm"> 
        <div id="add-task" class="show-hide-div">
            <div class="form-group">
                <label for="name">Name</label>
                <input type="text" class="form-control" required [(ngModel)]="addTask.name" name="name" #name="ngModel">
                <div [hidden]="name.valid || name.pristine" class="alert alert-danger"> Name is required
                </div>
            </div>
            <div class="form-group ">
                <label for="date">Date</label> 
                <input type="text" class="form-control" required [(ngModel)]="addTask.date" name="date" #date="ngModel">
                <div [hidden]="date.valid || date.pristine" class="alert alert-danger"> Date is required
                </div>
            </div>
            <div class="form-group">
                <label for="assignee">Assignee</label>
                <input type="text" class="form-control" required [(ngModel)]="addTask.assignee" name="assignee" #assignee="ngModel">
                <div [hidden]="assignee.valid || assignee.pristine" class="alert alert-danger"> Assignee is required
                </div>
            </div>
            <div class="form-group">
                <button type="submit" class="btn btn-default" [disabled]="!addTaskForm.form.valid" >Create Task</button>
            </div>
        </div>
    </form>
</div>
<div class="">
    <h2>Existing Tasks</h2>
    <div *ngFor="let task of tasks;"  >
        <div class="show-hide-div " [attr.id]="'task' + task.id" [ngClass]="status? 'hideChildren' : 'showChildren'">
            <span class="task-name-header">{{ (task.name.length > 20) ? (task.name | slice:0:20) + '...' : (task.name) }}</span>
            <span class="task-name-date">{{task.date | slice:0:20}}</span>
            <span class="task-name-assignee">{{task.assignee | slice:0:20}}</span>
            <span (click)="showHide('task' + task.id)" class="task-edit-icon">
                <svg xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 30 30" viewBox="0 0 30 30" fill="red" width="3rem" height="3rem"><g><rect fill="none" height="3rem" width="3rem"/></g><g><g><g><polygon points="3,17.25 3,21 6.75,21 17.81,9.94 14.06,6.19"/></g><g><path d="M20.71,5.63l-2.34-2.34c-0.39-0.39-1.02-0.39-1.41,0l-1.83,1.83l3.75,3.75l1.83-1.83C21.1,6.65,21.1,6.02,20.71,5.63z"/></g></g></g></svg>
            </span>
            <br/>
            <div class="form-group">
                <label for="name">Name</label>
                <input type="text" class="form-control" required [(ngModel)]="task.name" name="name" #name="ngModel">
                <div [hidden]="name.valid || name.pristine" class="alert alert-danger"> Name is required
                </div>
            </div>
            <div class="form-group ">
                <label for="date">Date</label>
                <input type="text" class="form-control" required [(ngModel)]="task.date" name="date" #date="ngModel">
                <div [hidden]="date.valid || date.pristine" class="alert alert-danger"> Date is required
                </div>
            </div>
            <div class="form-group">
                <label for="assignee">Assignee</label>
                <input type="text" class="form-control" required [(ngModel)]="task.assignee" name="assignee" #assignee="ngModel">
                <div [hidden]="assignee.valid || assignee.pristine" class="alert alert-danger"> Assignee is required
                </div>
            </div>
        </div>
    </div>
</div>

<!-- <div [className]="'hidden'" *ngFor="let task of tasks" 
  (click)="ele.class = ele.class == 'showChildren' ? '' :  'showChildren'"
  [ngClass]="{ hideChildren : ele.class !== 'showChildren' }"

 [title]="task.name" #ele>
    PARENT {{task.name}} - {{ele.ngClass}} <b>Click Me</b>
    <div>CHILD {{task.name}}  -- AA</div>
    <div>CHILD {{task.name}}  -- BB</div>
</div>   -->
